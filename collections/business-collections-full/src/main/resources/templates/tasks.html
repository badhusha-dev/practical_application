<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tasks - Business Collections Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="/">Business Collections Demo</a>
            <div class="navbar-nav">
                <a class="nav-link" href="/employees">Employees</a>
                <a class="nav-link" href="/departments">Departments</a>
                <a class="nav-link" href="/skills">Skills</a>
                <a class="nav-link" href="/tasks">Tasks</a>
                <a class="nav-link" href="/history">History</a>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <h1>ðŸ“‹ Task Management</h1>
        <p class="text-muted">Demonstrating <strong>Queue</strong>, <strong>PriorityQueue</strong>, <strong>Stack</strong>, and <strong>Deque</strong> collections</p>

        <div class="row">
            <!-- Queue Section -->
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0">Queue&lt;Task&gt; (LinkedList) <span class="badge bg-light text-dark" th:text="${queueSize}">0</span></h5>
                        <small>FIFO order, efficient for processing</small>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Description</th>
                                        <th>Priority</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr th:each="task : ${taskQueue}">
                                        <td th:text="${task.id}">1</td>
                                        <td th:text="${task.description}">Task Description</td>
                                        <td>
                                            <span th:if="${task.priority == 1}" class="badge bg-danger">High</span>
                                            <span th:if="${task.priority == 2}" class="badge bg-warning">Medium</span>
                                            <span th:if="${task.priority == 3}" class="badge bg-success">Low</span>
                                        </td>
                                        <td th:text="${task.status}">PENDING</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <form method="post" action="/process-task">
                            <button type="submit" class="btn btn-primary">Process Next Task</button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- PriorityQueue Section -->
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header bg-warning text-dark">
                        <h5 class="mb-0">PriorityQueue&lt;Task&gt; <span class="badge bg-dark text-white" th:text="${priorityQueueSize}">0</span></h5>
                        <small>Tasks sorted by priority (1=highest, 3=lowest)</small>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Description</th>
                                        <th>Priority</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr th:each="task : ${priorityQueue}">
                                        <td th:text="${task.id}">1</td>
                                        <td th:text="${task.description}">Task Description</td>
                                        <td>
                                            <span th:if="${task.priority == 1}" class="badge bg-danger">High</span>
                                            <span th:if="${task.priority == 2}" class="badge bg-warning">Medium</span>
                                            <span th:if="${task.priority == 3}" class="badge bg-success">Low</span>
                                        </td>
                                        <td th:text="${task.status}">PENDING</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <form method="post" action="/process-priority-task">
                            <button type="submit" class="btn btn-warning">Process Priority Task</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mt-4">
            <!-- Stack Section -->
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header bg-success text-white">
                        <h5 class="mb-0">Stack&lt;Task&gt; <span class="badge bg-light text-dark" th:text="${completedTasksSize}">0</span></h5>
                        <small>LIFO order, last completed task on top</small>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Description</th>
                                        <th>Priority</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr th:each="task : ${completedTasks}">
                                        <td th:text="${task.id}">1</td>
                                        <td th:text="${task.description}">Task Description</td>
                                        <td>
                                            <span th:if="${task.priority == 1}" class="badge bg-danger">High</span>
                                            <span th:if="${task.priority == 2}" class="badge bg-warning">Medium</span>
                                            <span th:if="${task.priority == 3}" class="badge bg-success">Low</span>
                                        </td>
                                        <td><span class="badge bg-success" th:text="${task.status}">COMPLETED</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Deque Section -->
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header bg-info text-white">
                        <h5 class="mb-0">Deque&lt;Task&gt; (ArrayDeque) <span class="badge bg-light text-dark" th:text="${dequeSize}">0</span></h5>
                        <small>Double-ended queue, efficient add/remove from both ends</small>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Description</th>
                                        <th>Priority</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr th:each="task : ${taskDeque}">
                                        <td th:text="${task.id}">1</td>
                                        <td th:text="${task.description}">Task Description</td>
                                        <td>
                                            <span th:if="${task.priority == 1}" class="badge bg-danger">High</span>
                                            <span th:if="${task.priority == 2}" class="badge bg-warning">Medium</span>
                                            <span th:if="${task.priority == 3}" class="badge bg-success">Low</span>
                                        </td>
                                        <td th:text="${task.status}">PENDING</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mt-4">
            <div class="col-12">
                <div class="alert alert-info">
                    <h5>Queue, Stack, and Deque Characteristics:</h5>
                    <ul class="mb-0">
                        <li><strong>Queue (LinkedList):</strong> FIFO operations, O(1) enqueue/dequeue</li>
                        <li><strong>PriorityQueue:</strong> Heap-based, O(log n) insertion, O(log n) removal</li>
                        <li><strong>Stack:</strong> LIFO operations, O(1) push/pop</li>
                        <li><strong>Deque (ArrayDeque):</strong> Double-ended operations, O(1) add/remove from both ends</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
